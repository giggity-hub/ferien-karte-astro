<template id="carousel-list">
    <style>
    :host{
        /* background: black; */
        display: block;
        white-space: nowrap;
        position: relative;
        overflow-x: hidden;
    }

    ::slotted(li) {
    /* background-color: aqua; */
    text-decoration: none;
    display:inline-block;
    /* float: left; */
    width: 100%;
    }
    </style>
    <div id="positioner">
        <slot></slot>
    </div>
</template>

<script>
    class CarouselList extends HTMLElement{
    static observedAttributes = ["index"];
    _index = 0
    maxIndex = 0
    
    get index(){
        return this._index;
    }
    set index(v){
        this._index = v;

        const percentage = 100 * this._index;
        this.$positioner.style.transform = `translateX(-${percentage}%)`
    }
    $positioner
    constructor(){
        super()
        const shadow = this.attachShadow({ mode: 'open' });
        const template = document.querySelector("#carousel-list");
        const clone = template.content.cloneNode(true);
        shadow.appendChild(clone)

        this.$positioner = shadow.getElementById('positioner')
    }

    attributeChangedCallback(name, oldValue, newValue){
        switch (name) {
            case "index":
                this.index = newValue;
                break;
        
            default:
                break;
        }
    }
}

class CarouselPane extends HTMLElement{
    constructor(){
        super()
    }
}


customElements.define('carousel-list', CarouselList);
</script>