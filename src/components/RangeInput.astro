
<scrollable-range-input id="my-range-input"> 
    <slot></slot>
</scrollable-range-input>

<script>
    import { app } from "../scriptsschmipts/data"

    const minDateTimeStamp = +new Date(app.years[0], 0, 1)
    const maxDateTimeStamp = +new Date(app.years[app.years.length -1], 11, 31)

    const $rangeInput = document.getElementById('my-range-input')

    $rangeInput?.setAttribute('min', minDateTimeStamp.toString())
    $rangeInput?.setAttribute('max', maxDateTimeStamp.toString())
    $rangeInput?.setAttribute('value', (+ app.$selectedDate.value).toString())

    $rangeInput?.addEventListener('change', (e)=>{
        console.log('der motherfucker hat sich gechanged')
        app.$selectedDate.value = new Date(e.target.value)
    })
    app.$selectedDate.subscribe((newValue)=>{
        $rangeInput?.setAttribute('value', (+ newValue).toString())
    })
</script>